<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>angular.js+SpringMVC</title>
</head>
<script src="../../static/js/angular-1.3.0.14/angular-scenario.js"></script>
<script src="../../static/js/angular-1.3.0.14/angular-route.js"></script>
<script src="../../static/js/angular-1.3.0.14/angular.js"></script>
<!--<script src="angular.min.js"></script>-->

<body ng-controller="MyController">
<h3>search</h3>
<button id="search" ng-click="getUser()">查询</button>

<script>
    //    document.getElementById("search").onclick = function () {
    //        var request = new XMLHttpRequest()
    //        request.open("GET", "http://127.0.0.1:8083/person/getPersons")
    //        request.setRequestHeader("Access-Control-Allow-Origin", "*")
    ////        request.setRequestHeader("","");
    //        request.send()
    //        request.onreadystatechange=function () {
    //            if (request.readyState === 4) {
    //                if (request.status === 200) {
    //                    alert(request.responseText)
    //                }else{
    //                    alert("发生错误："+request.status)
    //                }
    //            }
    //        }
    //    }


    angular.module("PersonModel", []).controller("com.wsh.ssh.controller.PersonController",
        function ($scope, $http) {
            alert("进入2")
            var url = "http://127.0.0.1:8083/person/getPersons";
            $http.post(url).success(function (data) {
                alert("angular_result" + data)
            }).fail(function (data) {
                alert("angular fail" + data)
            })
            document.getElementById("search").onclick = function () {
                alert("进入点击")
            }


        }
    )

    //    function MyController($scope, $http) {
    ////        $scope.saveUser = {
    //////            id: 1,
    //////            name: "John",
    //////            age: "16"
    ////        };
    //
    //        $scope.getUser = function () {
    //            $http({
    //                method: "GET",
    //                url: "http://127.0.0.1:8083/person/getPersons",
    ////                data: $scope.saveUser
    //            }).success(function (data, status) {
    //                // handle success
    //                alert("data:" + data + " status:" + status)
    //            })
    //        };
    //    }


    //    document.getElementById("search").onclick = function () {
    //        alert("进入点击")
    //    }


    //    $(function () {
    //        $('#search').click(function () {
    //            $.ajax({
    //                type:'GET',
    //                url :'http://127.0.0.1:8083/person/getPersons',
    //            })
    //        })
    //    })
</script>
</body>
</html>